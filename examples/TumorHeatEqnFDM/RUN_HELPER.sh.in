#!/bin/bash
#
# Script for configuring the underlying application.
#
# Copyright (c) 2017-2018, ZIH, TU Dresden, Federal Republic of Germany.
# For details, see the files COPYING and LICENSE in the base directory
# of the package.

export SCAFESRUN_TYPE_DOMAIN_DECOMPOSITION="UNI"
export SCAFESRUN_OUTPUT_LEVEL=2
export SCAFESRUN_NLAYERS_AT_BORDER=1
export SCAFESRUN_NAME_KINDFILE=""
export SCAFESRUN_WRITE_KINDFILE="NO";
export SCAFESRUN_ENABLE_ADOLC="NO"
export SCAFESRUN_ASYNCHRON_MODE="YES"
export SCAFESRUN_COMP_GRADIENTS="NO"
export SCAFESRUN_INIT_KNOWNDFS="NO"

export SCAFESRUN_RESULTS_DIR="./";
export SCAFESRUN_CHECK_RESULTS="NO";
#------------------------------------------------------------------------------#
export SCAFESRUN_RUN_MODE="NORMAL"
export SCAFESRUN_N_PROCESSES_MPI_START=1
export SCAFESRUN_N_THREADS_OPENMP_START=1
export SCAFESRUN_MACHINE_N_TASKS_PER_NODE=1
export SCAFESRUN_MACHINE_N_NODES=${SLURM_NNODES:-1};
export SCAFESRUN_MACHINE_N_CORES_PER_NODE=${SLURM_CPUS_ON_NODE:-24};
export SCAFESRUN_MACHINE_MEMORY_PER_CORE=900

export SCAFESRUN_N_TESTS_MPI=1
export SCAFESRUN_N_TESTS_OPENMP=1
export SCAFESRUN_TYPE_SCALINGTEST="STRONG"

export SCAFESRUN_SOFTWARE_VERSION="MT_MS_$(git rev-parse --short HEAD)"
export SCAFESRUN_MACHINE_NAME="ZIH_TEST_SYSTEM";
export SCAFESRUN_MACHINE_TIME=""
export SCAFESRUN_MACHINE_NAME_PARTITION=""
export SCAFESRUN_MACHINE_NAME_PROJECT=""
export SCAFESRUN_MACHINE_NAME_RESERVATION=""

./@top_srcdir@/scripts/scafesrun.sh
